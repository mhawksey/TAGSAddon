<!DOCTYPE html>
<html>

<head>
  <base target="_top">
  <script>
    var PAGE_TITLE = '<?= page_title ?>';
    var PAGE_URL = '<?= page_url ?>';
  </script>
  <?!= Include.js(['ui/js/GA']); ?>
  <?!= Include.html(['ui/css/import_material']); ?>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/intercom.js/0.1.4/intercom.min.js"></script>
</head>

<body>
  <div class="progress white" id="loader">
    <div class="indeterminate blue"></div>
  </div>
  <div class="row" id="container" style="display:none">
    <div class="col s12">
      <ul class="tabs grey lighten-3">
        <li class="tab col s6"><a href="#basic">Easy</a></li>
        <li class="tab col s6"><a href="#adv">Advanced</a></li>
      </ul>
    </div>
    <div id="basic" class="col s12">
      <div class="col s12">
        <p><strong>Instructions</strong></p>
        <p class="i18n" data-msg="setup_to_access">To access data from Twitter it is required that you sign in with a Twitter account. This is done on via the Twitter website and your connection can be revoked at any time.</p>
        <p class="i18n" data-msg="setup_to_connect">To connect your account use the button below (an Advanced setup is available if with to use your own Twitter application credentials):</p>
      </div>

    </div>
    <div id="adv" class="col s12">
      <div class="col s12">
        <p><strong>Instructions</strong></p>
        <p>To collect data from Twitter using your own registered application follow the steps below. Registering your application and connecting should be a one time only task.
        </p>
        <p><strong>Steps</strong>:</p>
        <ol style="padding-left: 15px;">
          <li>Register for an API key with Twitter at <a href="https://dev.twitter.com/apps/new" target="_blank">https://dev.twitter.com/apps/new</a> (if you've already registered for a TAGS sheet you can reuse your existing API Key and Secret).</li>
          <ul class="browser-default">
            <li class="browser-default">Name, description and website can be anything you like</li>
            <li class="browser-default"><strong>Important</strong> Include the Callback URL <code>https://script.google.com/macros/</code></li>
          </ul>
          <li>Read the 'Developer Rules of the Road' before clicking 'Create your Twitter application'</li>
          <li>Enter your Twitter application API key and secret in the form below:</li>
        </ol>
      </div>

      <form class="col s12">
        <div class="input-field col s12">
          <input id="consumer_key" type="text" class="validate settings" required="" aria-required="true">
          <label for="consumer_key">Consumer Key</label>
        </div>
        <div class="input-field col s12">
          <input id="consumer_secret" type="text" class="validate settings" required="" aria-required="true">
          <label for="consumer_secret">Consumer Secret</label>
        </div>
      </form>

    </div>
          <div class="col s12 center-align">
            <button class="action center-align" type="submit" id="signin" ><?!= Include.img(icons['twitter_icon']); ?> Connect Twitter</button>
            <button class="center-align" type="submit" id="signout" style="display:none"><?!= Include.img(icons['twitter_icon']); ?> Disconnect Twitter</button>
      </div>
    
  </div>
  <?!= Include.html(['inc/footer']); ?>
</body>
<script>
  var isSignedIn = '<?= isSignedIn ?>' == 'true';
  var email = '<?= email ?>';
  var authUrl = '<?= authUrl ?>';
</script>
<?!= Include.gs(['inc/i18n','ui/js/helpers']); ?>
<?!= Include.js(['ui/js/twitter-setup']); ?>
</html>